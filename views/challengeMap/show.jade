extends ../layout
block content
    script.
        var completedChallenges = !{JSON.stringify(completedChallengeList)};
    .panel.panel-info
        .panel-heading.text-center
            h1 Challenge Map
        .panel-body
            if (Math.random() > 0.99)
                img.img-responsive.img-center.border-radius-5(src='https://s3.amazonaws.com/freecodecamp/wide-social-banner-dino.png')
            else
                img.img-responsive.img-center.border-radius-5(src='https://s3.amazonaws.com/freecodecamp/wide-social-banner.png')
            .col-xs-12.col-md-10.col-md-offset-1
                h2.text-center
                    span.text-primary #{camperCount} &thinsp;
                    | campers have joined our community
                    br
                    | since we launched &thinsp;
                    span.text-primary #{daysRunning} &thinsp;
                    | days ago.
                .spacer
                .row
                    .col-xs-12.col-sm-8.col-sm-offset-2
                        h3 800 Hours of Practice:
                ol
                    for challengeBlock in challengeList
                        .row
                            .hidden-xs.col-sm-3.col-md-2
                                span.negative-10
                            .col-xs-12.col-sm-9.col-md-10
                                li.large-p.negative-10
                                    a(href='#' + challengeBlock.dashedName)= challengeBlock.name

                .row
                    .col-xs-12.col-sm-8.col-sm-offset-2.negative-28
                        h3 800 Hours of &thinsp;
                            a(href="/nonprofits/directory") Real World Work Experience
                            | :
                ol
                    .row
                        .hidden-xs.col-sm-3.col-md-2.ion-locked.padded-ionic-icon.text-center.large-p.negative-10
                        .col-xs-12.col-sm-9.col-md-10
                            li.large-p.negative-10 100-hour Nonprofit Project
                    .row
                        .hidden-xs.col-sm-3.col-md-2.ion-locked.padded-ionic-icon.text-center.large-p.negative-10
                        .col-xs-12.col-sm-9.col-md-10
                            li.large-p.negative-10 First 200-hour Nonprofit Project
                    .row
                        .hidden-xs.col-sm-3.col-md-2.ion-locked.padded-ionic-icon.text-center.large-p.negative-10
                        .col-xs-12.col-sm-9.col-md-10
                            li.large-p.negative-10 Second 200-hour Nonprofit Project
                    .row
                        .hidden-xs.col-sm-3.col-md-2.ion-locked.padded-ionic-icon.text-center.large-p.negative-10
                        .col-xs-12.col-sm-9.col-md-10
                            li.large-p.negative-10 300-hour Nonprofit Project
                hr

                for challengeBlock in challengeList
                    .row
                        a(href='#' name=challengeBlock.dashedName)
                        .spacer.negative-55

                    .row
                        .col-xs-12.col-sm-8.col-sm-offset-2
                            h3 #{challengeBlock.name}
                    .row
                        .col-xs-12
                            ol
                                for challenge in challengeBlock.challenges
                                    if completedChallengeList.indexOf(challenge._id) > -1
                                        .row
                                            .hidden-xs.col-sm-3.col-md-2.text-primary.ion-checkmark-circled.padded-ionic-icon.text-center.large-p.negative-10
                                            .col-xs-12.col-sm-9.col-md-10
                                                li.faded.large-p.negative-10
                                                    a(href="/challenges/#{challenge.name}")= challenge.name

                                    else
                                        .row
                                            .hidden-xs.col-sm-3.col-md-2
                                                span.negative-10
                                            .col-xs-12.col-sm-9.col-md-10
                                                li.large-p.negative-10
                                                    a(href="/challenges/#{challenge.name}")= challenge.name

    #announcementModal.modal(tabindex='-1')
        .modal-dialog.animated.fadeInUp.fast-animation
            .modal-content
                .modal-header.challenge-list-header We're adding new languages!
                    a.close.closing-x(href='#', data-dismiss='modal', aria-hidden='true') ×
                .modal-body
                    .spacer
                    h4.text-left 我們正在研究將Free Code Camp翻成中文! &thinsp;
                        a(href='https://freecode.slack.com/messages/chinese')  請按這裡來參觀我們的中文聊天室
                        | .
                    h4.text-left Estamos trabajando a traducir Free Code Camp en español! &thinsp;
                        a(href='https://freecode.slack.com/messages/espanol') Haz clic aquí para ir a nuestra sala de chat español
                        | .
                    h4.text-left Nós estamos trabalhando para traduzir o Free Code Camp para o Português! &thinsp;
                        a(href='https://freecode.slack.com/messages/portugues') Clique aqui para visitar nossa sala de bate-papo em Português
                        | .
                    h4.text-left Nous travaillons pour traduire Free Code Camp en Français! &thinsp;
                        a(href='https://freecode.slack.com/messages/francais') Cliquez ici pour visiter notre salle de chat Français
                        | .
                    h4.text-left Мы работаем над переводом Free Code Camp на русский язык! &thinsp;
                        a(href='https://freecode.slack.com/messages/russian') Нажмите здесь, чтобы посетить русский чат
                        | .
                    a.btn.btn-lg.btn-primary.btn-block(href='#', data-dismiss='modal', aria-hidden='true') Thanks for the heads-up!
    script.
        $(document).ready(function () {
            if (!localStorage || !localStorage.multiLingual) {
                $('#announcementModal').modal('show');
                localStorage.multiLingual = "true";
            }
        });
