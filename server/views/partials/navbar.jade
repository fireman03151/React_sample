nav.navbar.navbar-default.navbar-fixed-top.nav-height
    .navbar-header
        button.hamburger.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-collapse')
            .col-xs-12
                span.hamburger-text Menu
        a.navbar-brand(href='/')
            img.img-responsive.nav-logo(src='https://s3.amazonaws.com/freecodecamp/freecodecamp_logo.svg', alt='learn to code javascript at Free Code Camp logo')
    .collapse.navbar-collapse
        ul.nav.navbar-nav.navbar-right.hamburger-dropdown
            li
                a.learn-btn(href='#') Learn
            li
                a(href='/map') Map
            li.hidden-xs
                a#nav-chat-btn(href='#' onclick="return false") Chat
            li.visible-xs
                a(href="//gitter.im/freecodecamp/freecodecamp" target="_blank") Chat
            li
                a(href='/news', target='_blank') News
            li
                a(href='//github.com/FreeCodeCamp/freecodecamp/wiki/Home', target='_blank') Wiki
            li
                a(href='/jobs') Jobs
            li
                a(href='/about') About
            if !user
                li &thinsp; &thinsp; &thinsp;
                li
                    a.btn.signup-btn.signup-btn-nav.signin-button-nav(href='/login') Sign in
            else
                li.brownie-points-nav
                  a(href='/' + user.username) [&thinsp;#{user.progressTimestamps.length}&thinsp;]
                .hidden-xs.hidden-sm
                    a(href='/' + user.username)
                        img.profile-picture.float-right(src='#{user.picture}')
script.
    $(document).ready(function() {
        $('.learn-btn').click(function(e) {
            var challengeDashedName = null;
            e.preventDefault();
            if (typeof dashedName === "string") {
                return location.reload();
            }
            if (typeof localStorage !== 'undefined') {
                challengeDashedName = localStorage.getItem('currentDashedName');
            }
            window.location = challengeDashedName ?
            '/challenges/' + challengeDashedName :
                    '/map';
        });
    });
