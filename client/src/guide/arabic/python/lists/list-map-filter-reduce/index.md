---
title: Map, Reduce, Filter
localeTitle: خريطة ، تقليل ، تصفية
---# خريطة وخفض وتصفية

يعمل معظم المهندسين بقوائم لمعالجة قائمة الطلبات / المستخدمين الخ. يمكن أن تصبح قوائم تحليل معقدة وفوضى بسرعة في حالة استخدام الحلقات المتعددة والحلقات المتداخلة. وبالتالي يمكن لهذه الطرق المذكورة أعلاه تبسيط استخدام عمليات القائمة.

## خريطة

إذا كانت مهمتك هي تطبيق طريقة محددة لكل عنصر من عناصر القائمة ، فستكون الخريطة في متناول اليد. لنقل ، لديك قائمة بقيم الدرجة وترغب في تحويل كل هذه القيم إلى قائمة قيم في وحدات فهرنهايت.

#### مثال للاستخدام

 `inputs = [10,32,5,40,25] 
 
 def degreesToFahren(deg): 
    fahrenheit = (9.0/5)*deg +32 
    return fahrenheit 
 
 # The most common way of doing this 
 result=[] 
 for i in inputs: 
    iTofahren = degreesToFahren(i) 
    result.append(iTofahren) 
 print(result)   # [50.0, 89.6, 41.0, 104.0, 77.0] 
` 

 `# Using Map 
 result = list(map(degreesToFahren,inputs)) 
 print(result) # [50.0, 89.6, 41.0, 104.0, 77.0] 
` 

كما لاحظت ، فإن استخدام الخريطة هو ببساطة عملية واحدة. بشكل عام ، إذا كان لديك بيانات = `[a1,a2,...,an]` و a `[a1,a2,...,an]` ووظيفة `f()` ، ثم `map(f,data):` بإرجاع المكرر على `f(a1),f(a2)...f(an).` استخدم `list()` لتحويل كائن الكود إلى قائمة python.

## منقي

تقوم وظيفة التصفية بإزالة البيانات الموجودة في القائمة التي تحتاجها / لا تحتاج إليها ، ومن ثم الاسم. لنفترض أنك تريد تصفية قائمة استنادًا إلى القيم التي لا تحتاج إليها ، على سبيل المثال القيم أعلاه 2.

#### مثال للاستخدام

 `data = [1.2,2.5,5.8,0.4,4.7,9.9] 
 result = list(filter(lambda x:x > 2,data)) 
 print(result) 
` 

#### انتاج |

 `[2.5, 5.8, 4.7, 9.9] 
` 

هذا هو أيضا 1 بطانة بسيطة مشابهة للخريطة () وظيفة أعلاه. الرجوع إلى البرنامج التعليمي على وظائف lambda إذا وجدت هذا المصطلح غير مألوف.

## خفض

من مبدع بايثون ، جويدو فان روسوم `"Use functools.reduce if you really need it; however, 99% of the time an explicit for loop is more readable"`

ما يفعله بشكل عام هو تطبيق دالة `f()` على عناصر البيانات في قائمة واستخدام تلك النتيجة للقيمة التالية في القائمة. بصريا،

البيانات = \[a 1 ، a 2 ،…، a n \] الوظيفة = f (x، y)

الحد (و البيانات): الخطوة 1: val 1 = f (a 1 ، a 2 ) الخطوة 2: val 2 = f (val 1 ، a 3 ) الخطوة 3: val 3 = f (val 2 ، a 4 ) . . . الخطوة n-1: val n-1 = f (val n-2 ، a n )

على سبيل المثال ، تريد ضرب كل الأرقام في قائمة.

#### مثال للاستخدام

 `from functools import reduce 
 
 input = [1,2,3,4,5,6] 
 multiplier = lambda x,y:x*y 
 answer = reduce(multiplier,input) 
 print(answer) 
` 

#### انتاج |

 `720 
` 

ومع ذلك ، يمكن حساب ما سبق باستخدام حلقة بسيطة واستخدام هذه الطرق عرضة للتفضيل.

#### معلومات اكثر:

يمكن العثور على الوثائق الرسمية للطرق أعلاه في http://book.pythontips.com/en/latest/map\_filter.html